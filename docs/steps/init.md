# Initialize Project  

## Run `create-next-app`

```bash
npx create-next-app my-project --typescript
```

## Add Tailwind CSS  

> reference: https://tailwindcss.com/docs/guides/nextjs  

Install `Tailwind CSS`

```bash
pnpm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

Modify `tailwind.config.js` to:

```javascript
module.exports = {
  content: [
    "./pages/**/*.{js,ts,jsx,tsx}",
    "./components/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

Add following code at the start of `./styles/globals.css`:

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

...
```

## Install `Hardhat` and Initialize  

Install `Hardhat`

```bash
pnpm install -D hardhat
```

Initialize with `Hardhat`  

```bash
rm README.md # delete README.md to avoid conflicting with hardhat
pnpm hardhat
```

You will see something like this:

```
888    888                      888 888               888
888    888                      888 888               888
888    888                      888 888               888
8888888888  8888b.  888d888 .d88888 88888b.   8888b.  888888
888    888     "88b 888P"  d88" 888 888 "88b     "88b 888
888    888 .d888888 888    888  888 888  888 .d888888 888
888    888 888  888 888    Y88b 888 888  888 888  888 Y88b.
888    888 "Y888888 888     "Y88888 888  888 "Y888888  "Y888

ðŸ‘· Welcome to Hardhat v2.9.2 ðŸ‘·â€

? What do you want to do? â€¦ 
â¯ Create a basic sample project
  Create an advanced sample project
  Create an advanced sample project that uses TypeScript
  Create an empty hardhat.config.js
  Quit
```

Choose `Create a basic sample project`, use default project root, choose `n` for .gitignore and you will get this:

```
ðŸ‘· Welcome to Hardhat v2.9.2 ðŸ‘·â€

âœ” What do you want to do? Â· Create a basic sample project
âœ” Hardhat project root: Â· /Users/jing/code/web3-demo/next-dapp-tutorial
âœ” Do you want to add a .gitignore? (Y/n) Â· n

You need to install these dependencies to run the sample project:
  npm install --save-dev "hardhat@^2.9.2" "@nomiclabs/hardhat-waffle@^2.0.0" "ethereum-waffle@^3.0.0" "chai@^4.2.0" "@nomiclabs/hardhat-ethers@^2.0.0" "ethers@^5.0.0"

âœ¨ Project created âœ¨
See the README.md file for some example tasks you can run.
```

Copy the dependencies, use pnpm to install them:

```bash
pnpm install -D "hardhat@^2.9.2" "@nomiclabs/hardhat-waffle@^2.0.0" "ethereum-waffle@^3.0.0" "chai@^4.2.0" "@nomiclabs/hardhat-ethers@^2.0.0" "ethers@^5.0.0"
```

Also install `TypeScript` related packages for `Hardhat`  

```bash
pnpm install -D ts-node chai @types/node @types/mocha @types/chai
```

Rename `hardhat.config.js` to `hardhat.config.ts` to use TypeScript  

```bash
mv hardhat.config.js hardhat.config.ts
```

Also rewrite the content of `hardhat.config.ts` with the following: 

```typescript
import { task } from "hardhat/config";
import "@nomiclabs/hardhat-waffle";

require("@nomiclabs/hardhat-waffle");

// This is a sample Hardhat task. To learn how to create your own go to
// https://hardhat.org/guides/create-task.html
task("accounts", "Prints the list of accounts", async (taskArgs, hre) => {
  const accounts = await hre.ethers.getSigners();

  for (const account of accounts) {
    console.log(account.address);
  }
});

// You need to export an object to set up your config
// Go to https://hardhat.org/config/ to learn more
export default {
  solidity: "0.8.4",
};

```

Modify `tsconfig.json` to this:

> most of the `tsconfig.json` is generated by `create-next-app`  

```json
{
  "compilerOptions": {
    "target": "es5",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx"
  ],
  "exclude": [
    "node_modules"
  ],
  "files": [
    "./hardhat.config.ts"
  ],
  // override `module` when run ts-node
  // or you will get error with hardhat scripts
  // reference: https://typestrong.org/ts-node/docs/imports/
  "ts-node": {
    "compilerOptions": {
      "module": "CommonJS"
    }
  }
}

```

Now initialization has been done and you can start writing smart contract.  
